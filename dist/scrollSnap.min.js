"use strict";window.scrollSnap={_on:null,_animating:!1,_scrollTimer:null,_resizeTimer:null,_computedOpts:null,_computedWindow:null,_computedElements:null,init:function(){var e=void 0===arguments[0]?{}:arguments[0];return scrollSnap._valid(e)===!1?!1:e.detectMobile===!0&&scrollSnap._isMobile()===!0?!1:(scrollSnap._computedOpts=e,window.addEventListener("resize",scrollSnap._onResize),scrollSnap._init(scrollSnap._computedOpts))},_init:function(e){scrollSnap._computedWindow=scrollSnap._getWindowMetrics(),scrollSnap._computedElements=[];for(var n=0;n<e.elements.length;++n){var o=e.elements[n],t=scrollSnap._getElementMetrics(o,scrollSnap._computedWindow,n);scrollSnap._computedElements.push(t)}var l=scrollSnap._computedWindow.width>=e.minWidth&&scrollSnap._computedWindow.height>=e.minHeight,r=scrollSnap._computedWindow.width<e.minWidth||scrollSnap._computedWindow.height<e.minHeight;return l!==!0||scrollSnap._on!==!1&&null!==scrollSnap._on?r!==!0||scrollSnap._on!==!0&&null!==scrollSnap._on?void 0:scrollSnap._stop(e):scrollSnap._start(e)},_isMobile:function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||window.opera)},_timing:function(e,n,o,t){return e/=t,-o*e*(e-2)+n},_normalizePosition:function(e,n){return 0>e&&(e=0),e>n-1&&(e=n-1),e},_valid:function(){var e=void 0===arguments[0]?{}:arguments[0];return null==e.elements?(console.error("Elements missing: opts.elements"),!1):null==e.minWidth||e.minWidth<0?(console.error("Property missing or not a number: opts.minWidth"),!1):null==e.minHeight||e.minHeight<0?(console.error("Property missing or not a number: opts.minHeight"),!1):(e.detectMobile!==!1&&(e.detectMobile=!0),(null==e.duration||e.duration<0)&&(e.duration=20),null==e.timing&&(e.timing=scrollSnap._timing),e.keyboard!==!1&&(e.keyboard=!0),!0)},_getWindowMetrics:function(){return{top:document.body.scrollTop,maxTop:document.body.offsetHeight-window.innerHeight,bottom:document.body.scrollTop+window.innerHeight,width:window.innerWidth,height:window.innerHeight}},_getElementMetrics:function(e,n,o){if(null==e)return!1;var t={index:o,active:!1,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,width:e.offsetWidth,height:e.offsetHeight,dom:e};return t.visiblePercentage=scrollSnap._getElementVisiblePercentage(t,n).vP,t},_getElementVisiblePercentage:function(e,n){var o=0,t=0,l=0,r=0;return o=n.top>e.top?n.top:e.top,t=n.bottom>e.bottom?e.bottom:n.bottom,l=t-o,r=100/e.height*l,0>l&&(l=0),0>r&&(r=0),{vH:l,vP:r}},_setElementVisible:function(e,n){function o(){document.body.scrollTop=s-p(i,0,c,a),i>=a||document.body.scrollTop===n.maxTop&&0!==i?scrollSnap._animating=!1:(i++,requestAnimationFrame(o))}for(var t=e.dom,l=0;l<scrollSnap._computedElements.length;++l){var r=scrollSnap._computedElements[l];r.dom.classList.remove("active"),r.active=!1}t.classList.add("active"),e.active=!0;var i=0,s=document.body.scrollTop,c=s-e.top,a=scrollSnap._computedOpts.duration,p=scrollSnap._computedOpts.timing;return console.log(s),o(),!0},_start:function(e){scrollSnap._on=!0,window.addEventListener("wheel",scrollSnap._onScroll),e.keyboard===!0&&document.body.addEventListener("keydown",scrollSnap._onKeydown);for(var n=0;n<scrollSnap._computedElements.length;++n)scrollSnap._computedElements[n].dom.classList.remove("active");return scrollSnap._scrollToNearest()},_stop:function(e){scrollSnap._on=!1,window.removeEventListener("wheel",scrollSnap._onScroll),e.keyboard===!0&&document.body.removeEventListener("keydown",scrollSnap._onKeydown);for(var n=0;n<scrollSnap._computedElements.length;++n)scrollSnap._computedElements[n].dom.classList.add("active");return!0},_onKeydown:function(e){var n=e.keyCode,o=0;if(38!==n&&40!==n)return!0;if(scrollSnap._animating===!0)return!1;scrollSnap._animating=!0;for(var t=0;t<scrollSnap._computedElements.length;++t)scrollSnap._computedElements[t].active===!0&&(o=t);return 38===n?o+=-1:40===n&&(o+=1),o=scrollSnap._normalizePosition(o,scrollSnap._computedElements.length),scrollSnap._setElementVisible(scrollSnap._computedElements[o],scrollSnap._computedWindow),e.preventDefault(),!1},_onResize:function(){return clearTimeout(scrollSnap._resizeTimer),scrollSnap._resizeTimer=setTimeout(function(){return scrollSnap._init(scrollSnap._computedOpts)},200),!0},_onScroll:function(e){return scrollSnap._animating===!0?!1:(clearTimeout(scrollSnap._scrollTimer),scrollSnap._scrollTimer=setTimeout(function(){return scrollSnap._scrollTo(e)},200),!0)},_scrollTo:function(e){scrollSnap._animating=!0;var n=0,o={},t=null,l=9.807;"wheel"===e.type&&(n=e.deltaY),n=n>0?1:-1,scrollSnap._computedWindow=scrollSnap._getWindowMetrics(),scrollSnap._computedElements=[];for(var r=0;r<scrollSnap._computedOpts.elements.length;++r){var i=scrollSnap._computedOpts.elements[r],s=scrollSnap._getElementMetrics(i,scrollSnap._computedWindow,r);scrollSnap._computedElements.push(s),(null==o.visiblePercentage||s.visiblePercentage>o.visiblePercentage)&&(o=s)}t=o.index+n,t=scrollSnap._normalizePosition(t,scrollSnap._computedElements.length),scrollSnap._computedElements[t].visiblePercentage*=l;for(var r=0;r<scrollSnap._computedElements.length;++r){var s=scrollSnap._computedElements[r];s.visiblePercentage>o.visiblePercentage&&(o=s)}return scrollSnap._setElementVisible(o,scrollSnap._computedWindow)},_scrollToNearest:function(){scrollSnap.animating=!0;for(var e=null,n=0;n<scrollSnap._computedOpts.elements.length;++n){var o=scrollSnap._computedElements[n];scrollSnap._computedWindow.top>=o.top&&(e=o)}return scrollSnap._setElementVisible(e,scrollSnap._computedWindow)}};