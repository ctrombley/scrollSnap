"use strict";!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):window[e]=t()}("scrollSnap",function(){var e=null,t=!1,n=null,o=null,i=null,r=null,u=null,l=function(){var e=void 0===arguments[0]?{}:arguments[0];return m(e)===!1?!1:e.detectMobile===!0&&a()===!0?!1:(i=e,window.addEventListener("resize",y),d(i))},d=function(t){r=v(),u=[];for(var n=0;n<t.elements.length;++n){var o=t.elements[n],i=h(o,r,n);u.push(i)}var l=r.width>=t.minWidth&&r.height>=t.minHeight,d=r.width<t.minWidth||r.height<t.minHeight;return l!==!0||e!==!1&&null!==e?d!==!0||e!==!0&&null!==e?void 0:b(t):p(t)},a=function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||window.opera)},s=function(e,t,n,o){return e/=o,-n*e*(e-2)+t},c=function(e,t){return 0>e&&(e=0),e>t-1&&(e=t-1),e},m=function(){var e=void 0===arguments[0]?{}:arguments[0];return null==e.elements?(console.error("Elements missing: opts.elements"),!1):null==e.minWidth||e.minWidth<0?(console.error("Property missing or not a number: opts.minWidth"),!1):null==e.minHeight||e.minHeight<0?(console.error("Property missing or not a number: opts.minHeight"),!1):(e.detectMobile!==!1&&(e.detectMobile=!0),(null==e.duration||e.duration<0)&&(e.duration=20),null==e.timing&&(e.timing=s),e.keyboard!==!1&&(e.keyboard=!0),!0)},v=function(){var e=document.body.getBoundingClientRect(),t={width:window.innerWidth,height:window.innerHeight};return{top:-1*e.top,maxTop:e.height-t.height,bottom:-1*e.top+t.height,width:t.width,height:t.height}},h=function(e,t,n){if(null==e)return!1;var o={index:n,active:!1,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,height:e.offsetHeight,dom:e};return o.visiblePercentage=g(o,t).vP,o},g=function(e,t){var n=0,o=0,i=0,r=0;return n=t.top>e.top?t.top:e.top,o=t.bottom>e.bottom?e.bottom:t.bottom,i=o-n,r=100/e.height*i,0>i&&(i=0),0>r&&(r=0),{vH:i,vP:r}},f=function(e,n){function o(){var e=s-v(a,0,c,m);document.body.scrollTop=e,document.documentElement.scrollTop=e,a>=m||document.body.scrollTop===n.maxTop&&0!==a?t=!1:(a++,requestAnimationFrame(o))}for(var r=e.dom,l=0;l<u.length;++l){var d=u[l];d.dom.classList.remove("active"),d.active=!1}r.classList.add("active"),e.active=!0;var a=0,s=-document.body.getBoundingClientRect().top,c=s-e.top,m=i.duration,v=i.timing;return o(),!0},p=function(t){e=!0,window.addEventListener("wheel",P),t.keyboard===!0&&document.body.addEventListener("keydown",w);for(var n=0;n<u.length;++n)u[n].dom.classList.remove("active");return H()},b=function(t){e=!1,window.removeEventListener("wheel",P),t.keyboard===!0&&document.body.removeEventListener("keydown",w);for(var n=0;n<u.length;++n)u[n].dom.classList.add("active");return!0},w=function(e){var n=e.keyCode,o=0;if(38!==n&&40!==n)return!0;if(t===!0)return!1;t=!0;for(var i=0;i<u.length;++i)u[i].active===!0&&(o=i);return 38===n?o+=-1:40===n&&(o+=1),o=c(o,u.length),f(u[o],r),e.preventDefault(),!1},y=function(){return clearTimeout(o),o=setTimeout(function(){return l(i)},200),!0},P=function(e){return t===!0?!1:(clearTimeout(n),n=setTimeout(function(){return T(e)},200),!0)},T=function(e){t=!0;var n=0,o={},l=null,d=9.807;"wheel"===e.type&&(n=e.deltaY),n=n>0?1:-1,r=v(),u=[];for(var a=0;a<i.elements.length;++a){var s=i.elements[a],m=h(s,r,a);u.push(m),(null==o.visiblePercentage||m.visiblePercentage>o.visiblePercentage)&&(o=m)}l=o.index+n,l=c(l,u.length),u[l].visiblePercentage*=d;for(var a=0;a<u.length;++a){var m=u[a];m.visiblePercentage>o.visiblePercentage&&(o=m)}return f(o,r)},H=function(){t=!0;for(var e=null,n=0;n<i.elements.length;++n){var o=u[n];r.top>=o.top&&(e=o)}return f(e,r)};return{init:l}});